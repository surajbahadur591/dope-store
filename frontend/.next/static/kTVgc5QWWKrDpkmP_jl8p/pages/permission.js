(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{105:function(e,t,n){"use strict";
/** @license React v16.5.2
 * schedule.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r=null,o=!1,a=!1,i="object"==typeof performance&&"function"==typeof performance.now,u={timeRemaining:i?function(){var e=b()-performance.now();return 0<e?e:0}:function(){var e=b()-Date.now();return 0<e?e:0},didTimeout:!1};function l(){if(!o){var e=r.timesOutAt;a?d():a=!0,m(s,e)}}function c(){var e=r,t=r.next;if(r===t)r=null;else{var n=r.previous;r=n.next=t,t.previous=n}e.next=e.previous=null,(e=e.callback)(u)}function s(e){o=!0,u.didTimeout=e;try{if(e)for(;null!==r;){var n=t.unstable_now();if(!(r.timesOutAt<=n))break;do{c()}while(null!==r&&r.timesOutAt<=n)}else if(null!==r)do{c()}while(null!==r&&0<b()-t.unstable_now())}finally{o=!1,null!==r?l():a=!1}}var f,p,m,d,b,y=Date,v="function"==typeof setTimeout?setTimeout:void 0,h="function"==typeof clearTimeout?clearTimeout:void 0,w="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,E="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function g(e){f=w(function(t){h(p),e(t)}),p=v(function(){E(f),e(t.unstable_now())},100)}if(i){var O=performance;t.unstable_now=function(){return O.now()}}else t.unstable_now=function(){return y.now()};if("undefined"==typeof window){var S=-1;m=function(e){S=setTimeout(e,0,!0)},d=function(){clearTimeout(S)},b=function(){return 0}}else if(window._schedMock){var _=window._schedMock;m=_[0],d=_[1],b=_[2]}else{"undefined"!=typeof console&&("function"!=typeof w&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof E&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var k=null,T=!1,x=-1,P=!1,j=!1,A=0,I=33,M=33;b=function(){return A};var C="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===C){T=!1;var n=t.unstable_now();if(e=!1,0>=A-n){if(!(-1!==x&&x<=n))return void(P||(P=!0,g(F)));e=!0}if(x=-1,n=k,k=null,null!==n){j=!0;try{n(e)}finally{j=!1}}}},!1);var F=function(e){P=!1;var t=e-A+M;t<M&&I<M?(8>t&&(t=8),M=t<I?I:t):I=t,A=e+M,T||(T=!0,window.postMessage(C,"*"))};m=function(e,t){k=e,x=t,j?window.postMessage(C,"*"):P||(P=!0,g(F))},d=function(){k=null,T=!1,x=-1}}t.unstable_scheduleWork=function(e,n){var o=t.unstable_now();if(e={callback:e,timesOutAt:n=null!=n&&null!==n.timeout&&void 0!==n.timeout?o+n.timeout:o+5e3,next:null,previous:null},null===r)r=e.next=e.previous=e,l();else{o=null;var a=r;do{if(a.timesOutAt>n){o=a;break}a=a.next}while(a!==r);null===o?o=r:o===r&&(r=e,l()),(n=o.previous).next=o.previous=e,e.next=o,e.previous=n}return e},t.unstable_cancelScheduledWork=function(e){var t=e.next;if(null!==t){if(t===e)r=null;else{e===r&&(r=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}}},148:function(e,t,n){"use strict";e.exports=n(105)},27:function(e,t,n){"use strict";var r=n(4),o=n.n(r),a=n(0),i=n.n(a),u=n(1),l=n(3),c=n.n(l),s=n(11),f=n(10),p=n(5);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,n,r,o,a,i){try{var u=e[a](i),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n    mutation SIGNIN_MUTATION(\n        $email: String!, $password: String!\n    ) {\n        signin( email:$email, password: $password){\n            id\n            email\n            name\n        }\n    }\n"]);return E=function(){return e},e}var g=c()(E()),O=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return r=this,o=(e=y(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==m(o)&&"function"!=typeof o?h(r):o,w(h(h(n)),"state",{name:"",password:"",email:""}),w(h(h(n)),"saveToState",function(e){n.setState(w({},e.target.name,e.target.value))}),n}var n,r,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(t,a["Component"]),n=t,(r=[{key:"render",value:function(){var e=this;return i.a.createElement(u.Mutation,{mutation:g,variables:this.state,refetchQueries:[{query:p.a}]},function(t,n){var r=n.error,a=n.loading;return i.a.createElement(s.a,{method:"post",onSubmit:function(){var n,r=(n=o.a.mark(function n(r){var a;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.next=3,t();case 3:a=n.sent,console.log(a),e.setState({name:"",email:"",password:""});case 6:case"end":return n.stop()}},n,this)}),function(){var e=this,t=arguments;return new Promise(function(r,o){var a=n.apply(e,t);function i(e){d(a,r,o,i,u,"next",e)}function u(e){d(a,r,o,i,u,"throw",e)}i(void 0)})});return function(e){return r.apply(this,arguments)}}()},i.a.createElement("fieldset",{disabled:a,"aria-busy":a},i.a.createElement("h2",null," Sign In"),i.a.createElement(f.a,{error:r}),i.a.createElement("label",{htmlFor:"email"},"EMAIL",i.a.createElement("input",{type:"email",name:"email",placeholder:"email",value:e.state.email,onChange:e.saveToState})),i.a.createElement("label",{htmlFor:"password"}," PASSWORD",i.a.createElement("input",{type:"password",name:"password",placeholder:"password",value:e.state.password,onChange:e.saveToState})),i.a.createElement("button",{type:"submit"}," Sign In")))})}}])&&b(n.prototype,r),l&&b(n,l),t}();t.a=O},339:function(e,t,n){__NEXT_REGISTER_PAGE("/permission",function(){return e.exports=n(353),{page:e.exports.default}})},353:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(39),i=n(1),u=n(10),l=n(3),c=n.n(l),s=(n(147),n(2).b.table.withConfig({displayName:"Table",componentId:"sc-1jvbtk5-0"})(["border-spacing:0;width:100%;border:1px solid ",";thead{font-size:10px;}td,th{border-bottom:1px solid ",";border-right:1px solid ",";padding:5px;position:relative;&:last-child{border-right:none;width:150px;button{width:100%;}}label{padding:10px 5px;display:block;}}tr{&:hover{background:",";}}"],function(e){return e.theme.offWhite},function(e){return e.theme.offWhite},function(e){return e.theme.offWhite},function(e){return e.theme.offWhite})),f=n(69);n(6);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){var e=g(["\n    mutation updatePermissions($permissions: [Permission], \n    $userId: ID!){\n        updatePermissions(permissions: $permissions,\n        userId: $userId) {\n            id\n            permissions\n            name\n            email\n\n        }\n    }\n\n"]);return w=function(){return e},e}function E(){var e=g(["\n    query{\n        users{\n            id\n            name\n            email\n            permissions\n        }\n    }\n"]);return E=function(){return e},e}function g(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var O=c()(E()),S=c()(w()),_=["ADMIN","USER","ITEMCREATE","ITEMUPDATE","ITEMDELETE","PERMISSIONUPDATE"],k=function(e){function t(){var e,n,r,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=new Array(a),u=0;u<a;u++)i[u]=arguments[u];return r=this,o=(e=b(t)).call.apply(e,[this].concat(i)),n=!o||"object"!==p(o)&&"function"!=typeof o?v(r):o,h(v(v(n)),"state",{permissions:n.props.user.permissions}),h(v(v(n)),"handlePermissionChange",function(e){var t=e.target,r=m(n.state.permissions);t.checked?r.push(t.value):r=r.filter(function(e){return e!==t.value}),n.setState({permissions:r}),console.log(r)}),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){var e=this,t=this.props.user;return o.a.createElement(i.Mutation,{mutation:S,variables:{permissions:this.state.permissions,userId:this.props.user.id}},function(n,r){var a=r.loading,i=r.error;return o.a.createElement(o.a.Fragment,null,i&&o.a.createElement("tr",null,o.a.createElement("td",{colSpan:"8"},"  ",o.a.createElement(u.a,{error:i}),"  ")),o.a.createElement("tr",null,o.a.createElement("td",null,t.name),o.a.createElement("td",null,t.email),_.map(function(n){return o.a.createElement("td",{key:n},o.a.createElement("label",{htmlFor:"".concat(t.id,"-permission-").concat(n)},o.a.createElement("input",{id:"".concat(t.id,"-permission-").concat(n),type:"checkbox",checked:e.state.permissions.includes(n),value:n,onChange:e.handlePermissionChange})))}),o.a.createElement("td",null,o.a.createElement(f.a,{type:"button",disabled:a,onClick:n},"Updat",a?"ing...":"e"))))})}}])&&d(n.prototype,r),a&&d(n,a),t}(),T=function(e){return o.a.createElement(i.Query,{query:O},function(e){var t=e.data,n=(e.loading,e.error);return console.log(t)||o.a.createElement("div",null,o.a.createElement(u.a,{error:n}),o.a.createElement("div",null,o.a.createElement("h1",null," Manage User's Permission"),o.a.createElement(s,null,o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Email"),_.map(function(e){return o.a.createElement("th",{key:e}," ",e)}),o.a.createElement("th",null,"Here"))),o.a.createElement("tbody",null,t.users.map(function(e){return o.a.createElement(k,{key:e.id,user:e})})))))})};t.default=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement(a.a,null,o.a.createElement(T,null)))}},39:function(e,t,n){"use strict";var r=n(1),o=n(5),a=n(27),i=(n(23),n(0)),u=n.n(i);t.a=function(e){return u.a.createElement(r.Query,{query:o.a},function(t){var n=t.data;return t.loading?u.a.createElement("p",null,"loading...."):n.me?e.children:u.a.createElement("div",null," ",u.a.createElement("p",null,"Please sing in!!"),u.a.createElement(a.a,null))})}},69:function(e,t,n){"use strict";var r=n(2).b.button.withConfig({displayName:"SickButton",componentId:"l04z44-0"})(["background:red;color:white;font-weight:500;border:0;border-radius:0;text-transform:uppercase;font-size:2rem;padding:0.8rem 1.5rem;transform:skew(-2deg);display:inline-block;transition:all 0.5s;&[disabled]{opacity:0.5;}"]);t.a=r}},[[339,1,0]]]);