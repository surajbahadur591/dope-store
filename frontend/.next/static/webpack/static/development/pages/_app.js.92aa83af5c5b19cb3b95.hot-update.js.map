{"version":3,"file":"static/webpack/static\\development\\pages\\_app.js.92aa83af5c5b19cb3b95.hot-update.js","sources":["webpack:///./components/Cart.js"],"sourcesContent":["import React from 'react'\r\nimport {Query, Mutation} from 'react-apollo'\r\nimport gql from 'graphql-tag'\r\nimport CartStyles from './styles/CartStyles'\r\nimport Supreme from './styles/Supreme'\r\nimport CloseButton from './styles/CloseButton'\r\nimport SickButton from './styles/SickButton'\r\nimport { de } from 'date-fns/locale'\r\nimport User from './User'\r\nimport CartItem from './CartItem'\r\nimport calcTotalPrice from '../lib/calcTotalPrice'\r\nimport formatMoney from '../lib/formatMoney'\r\nimport TakeMyMoney from './TakeMyMoney'\r\n\r\n\r\nconst LOCAL_STATE_QUERY = gql`\r\n    query {\r\n        cartOpen @client\r\n    }\r\n`;\r\n\r\nconst TOGGLE_CART_MUTATION = gql`\r\n\r\nmutation {\r\n    toggleCart @client\r\n}\r\n`;\r\n\r\n\r\nconst Cart = () => {\r\n\r\nreturn ( \r\n<User>{(data)=> {\r\n    if(!data.data.me) return null;\r\n    console.log(data.data.me)\r\n    const me = data.data.me;\r\n    const userName = data.data.me.name;\r\n    console.log(userName)\r\n    return (\r\n\r\n  \r\n<Mutation mutation={TOGGLE_CART_MUTATION}>\r\n    {toggleCart => (\r\n    <Query query={LOCAL_STATE_QUERY}>\r\n    {(data) =>(  <CartStyles open={data.data.cartOpen}>\r\n        <header>\r\n            <CloseButton onClick={toggleCart}title=\"close\"> &times;</CloseButton>\r\n    <Supreme> {userName}'s Bag</Supreme>\r\n            <p> Your have {me.cart.length} item{me.cart.length ===1? '':'s'} in your Bag</p>\r\n        </header>\r\n\r\n        <ul>\r\n        {me.cart.map( cartItem => <CartItem key={cartItem.id} cartItem={cartItem}>{cartItem.id}</CartItem>)}\r\n\r\n        </ul>\r\n\r\n        <footer>\r\n            <p>{(calcTotalPrice(me.cart))}</p>\r\n\r\n            <TakeMyMoney>\r\n            <SickButton> CheckOut</SickButton>\r\n            </TakeMyMoney>\r\n            \r\n        </footer>\r\n    </CartStyles>\r\n    )}</Query>\r\n    )}</Mutation>\r\n    )\r\n}}</User>\r\n)\r\n}\r\n\r\nexport default Cart;\r\nexport {LOCAL_STATE_QUERY};\r\nexport {TOGGLE_CART_MUTATION};"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAMA;AACA;AAOA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAhBA;AAFA;AA0BA;AAEA;AACA;AACA;AACA;;;;;A","sourceRoot":""}